Задание на оптимизацию
======================

Во время разработки программы планировалось, что она будет выводить на экран изображение с камеры, обработанное фильтром. 
Однако было допущено несколько ошибок, и теперь программа работает очень медленно. Нужно найти и исправить эти ошибки, 
чтобы приложение работало плавно. Код можно переписывать как угодно.


С чего начать?
--------------

1. клонируйте репозиторий;
2. с помощью [npm](https://npmjs.org) установите зависимости (команда npm install);
3. запустите пример npm start.


Вероятно, после запуска программы ваш браузер повиснет. Не расстраивайтесь и начните с отключения главного 
цикла — это поможет подойти к решению. Только потом не забудьте включить его обратно.



Решение
======================
Основную проблему вижу в повторении операции получения и отрисовки для каждого пикселя. Идея исправлений в следующем:

1. получить сразу все байты изображения
2. обработать их фильтром по 3, раз мы знаем, что 3 байта - это размер пикселя
3. сразу положить в canvas обработанный массив байт изображения

Работающий пример тут http://shri16t3.azurewebsites.net

ВАЖНО: данный пример работает не по https, потому при использовании других браузеров, кроме Mozilla Firefox, браузер нужно открыть в тестовом режиме и потом перейти по ссылке на пример. (Подробнее тут https://goo.gl/rStTGz )

Например на Windows для Google Chrome это можно сделать так:

cd  C:\Program Files (x86)\Google\Chrome\Application\ 

chrome.exe --user-data-dir=c:\Users\user\Documents\chrome_test_profile --unsafely-treat-insecure-origin-as-secure="http://shri16t3.azurewebsites.net/"

После запуска команд Chrome скажет, что Вы используете неподдерживаемый флаг командной строки и стабильность и безопасность будут нарушены, однако видео с камеры при переходе по http://shri16t3.azurewebsites.net/ должно транслироваться нормально


